@page "/register"
@inherits RegisterBase

<h3>Register</h3>


@if(_registerSuccessful==false)
{
    <EditForm Model="_registerUserDto" OnValidSubmit="RegisterUser">
    <DataAnnotationsValidator />
    <div class="form-group">
        <label for="name">Name:</label>
        <InputText @bind-Value="_registerUserDto.Name" id="name" class="form-control" />
        <ValidationMessage For="@(()=> _registerUserDto.Name)" />
    </div>

    <div class="form-group">
        <label for="surname">Surname:</label>
        <InputText @bind-Value="_registerUserDto.Surname" id="surname" class="form-control" />
        <ValidationMessage For="@(()=> _registerUserDto.Surname)" />
    </div>

    <div class="form-group">
        <label for="email">Email:</label>
        <InputText @bind-Value="_registerUserDto.EmailAddress" id="email" class="form-control" />
        <ValidationMessage For="@(()=> _registerUserDto.EmailAddress)" />
    </div>

      <div class="form-group">
        <label for="password">Password:</label>
        <InputText @bind-Value="_registerUserDto.Password" typeof="password" id="password" class="form-control" />
        <ValidationMessage For="@(()=> _registerUserDto.Password)" />
    </div>

    <ValidationSummary/>

    <button type="submit" class="btn btn-primary btn-lg"> Register </button>
    @if(_attemptToRegisterFailed)
    {
        <p class="text-danger">@_attemptToRegisterFailedErrorMessage</p>
    }


    </EditForm>

}
else
{
    <h1>Register Successful. Please Sign In...</h1>
    <a href="/signin" class="btn btn-primary btn-lg">Sign In</a>
}


